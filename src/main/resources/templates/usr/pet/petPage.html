<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Aniwell Dashboard</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<link rel="stylesheet" th:href="@{/resource/css/petPage.css}">
	<link rel="stylesheet" th:href="@{/resource/css/common.css}">
	<script th:src="@{/resource/js/calendar.js}"></script>


</head>

<body class="bg-gradient-to-b from-[#e4f0b9] to-[#fcdca9] font-sans">
	<div class="flex h-screen">
		<!-- Sidebar -->
		<div th:replace="common :: siteHeader"></div>

		<!-- Main content -->
		<main class="main_page min-h-screen flex-1 p-6 grid grid-cols-12 gap-4">

			<!-- ì™¼ìª½ 8ì¹¸: ì°¨íŠ¸ + ê°ì •ë¶„ì„ + ìº˜ë¦°ë” -->
			<section class="col-span-8 flex flex-col gap-4 h-full">

				<!-- ì°¨íŠ¸ -->
				<div class="bg-white p-4 rounded-xl shadow h-60">
					<canvas id="myChart" class="w-full h-full"></canvas>
				</div>

				<!-- ê°ì •ë¶„ì„ ì¹´ë“œ -->
				<div class="grid grid-cols-2 gap-4 h-3/5">
					<div class="bg-[#e0eadf] rounded-xl p-4 text-center font-semibold">
						ìš°ë¦¬ì•„ì´ ê°ì •ë¶„ì„í•˜ê¸°
					</div>
					<div class="bg-[#e0eadf] rounded-xl p-4 text-sm text-center">
						ì–´ì œë³´ë‹¤ ì˜¤ëŠ˜ ë¬¼ì„ <span class="font-bold">3ml</span> ë” ë¨¹ì—ˆì–´ìš”!<br>
						<button class="text-blue-600 mt-2 underline">í–‰ë™ë¶„ì„ë³´ê¸° &gt;</button>
					</div>
				</div>

				<!-- ìº˜ë¦°ë” -->
				<div class="flex gap-4">

					<!-- ì™¼ìª½: ì¼ì •/ë²„íŠ¼ -->
					<div class="flex flex-col gap-4 w-[300px] relative">
						<!-- ìƒë‹¨ + ë²„íŠ¼ í¬í•¨í•œ í—¤ë” -->
						<div class="flex justify-between items-center absoiute">
							<span class="text-sm font-bold">JULY 5</span>
							<button
								class="w-6 h-6 rounded-full bg-[#fdf6c2] shadow flex items-center justify-center text-lg font-bold">+</button>
						</div>

						<!-- ì¼ì • ëª©ë¡ -->
						<div class="bg-[#fdf6c2] rounded-xl shadow text-sm h-full py-3">
							<div class="bg-[#efefef]">ë–¡ê±¸ë£©ì´ ì˜ˆë°©ì ‘ì¢…í•œ ë‚ </div>
						</div>
					</div>

					<!-- ì˜¤ë¥¸ìª½: ìº˜ë¦°ë” -->
					<div class="bg-[#fdf6c2] rounded-xl p-4 flex-1 shadow">
						<div id="calendar-container" class="w-full"></div>
					</div>

				</div>


			</section>

			<!-- ì˜¤ë¥¸ìª½ 4ì¹¸: ê³ ì–‘ì´ ì •ë³´ + ì£¼ë³€ í«ì‚´ -->
			<aside class="col-span-4 flex flex-col gap-4">

				<!-- ê³ ì–‘ì´ ì¼ëŸ¬ìŠ¤íŠ¸ -->
				<div class="tD_ani bg-white rounded-xl p-4 flex flex-col items-center shadow h-full">
					<p class="text-sm text-gray-600 mb-2">ë˜¥ëƒ¥ì´!</p>
					<img src="https://i.imgur.com/qYhSSXR.png" alt="cat" class="w-24">
				</div>

				<!-- ë“±ë¡ì¦ -->
				<div class="ani-card w-full bg-white rounded-xl max-w-4xl p-6 shadow">
					<!-- ì œëª© -->
					<h2 class="text-2xl font-bold flex items-center gap-1 mb-4 justify-center">
						<span class="text-3xl">ğŸ¾</span> ë°˜ë ¤ë™ë¬¼ë“±ë¡ì¦
					</h2>

					<!-- 3ì—´ Grid -->
					<div class="grid grid-cols-3">

						<!-- 1ì—´ -->
						<div>
							<div class="space-y-1 text-sm">
								<div><span class="font-semibold mr-2">ì´ë¦„:</span> <span th:text="${pet.name}">ë–¡ê±¸ë£©</span>
								</div>
								<div><span class="font-semibold mr-2">ë²ˆí˜¸:</span> <span
										th:text="${pet.id}">12345</span></div>
								<div><span class="font-semibold mr-2">í’ˆì¢…:</span> <span
										th:text="${pet.breed}">ì½”ë¦¬ì•ˆìˆí—¤ì–´</span></div>
								<div><span class="font-semibold mr-2">ì„±ë³„:</span> <span th:text="${pet.gender}">ì•”ì»·</span>
								</div>
							</div>

							<!-- íŠ¹ì§•: grid ë°–ì— ìœ„ì¹˜ -->
							<div class="mt-1 text-sm">
								<span class="font-semibold mr-2">íŠ¹ì§•:</span>
								<span th:text="${pet.species}">ê²ì´ ë§ê³  ë†’ì€ ë°ë¥¼ ì•„ì£¼ ì¢‹ì•„í•´ìš”</span>
							</div>
						</div>

						<!-- 2ì—´ -->
						<div class="space-y-1 text-sm">
							<div><span class="font-semibold mr-2">ìƒì¼:</span> <span
									th:text="${pet.birthDate}">2020.01.01</span></div>
							<div><span class="font-semibold mr-2">ì¤‘ì„±í™”:</span> <span>ì™„ë£Œ</span>
							</div>
						</div>

						<!-- 3ì—´: ì‚¬ì§„ -->
						<div class="flex justify-center items-start">
							<img src="https://i.imgur.com/vTaaRnh.png" alt="cat"
								class="w-30 h-30 object-cover rounded-xl border" />
						</div>
					</div>

					<!-- ë“±ë¡ì¼ -->
					<div class="createdAt text-right text-xs text-gray-500 mt-2">2025.07.05</div>
				</div>


				<!-- ì£¼ë³€ í«ì‚´ ë³´ê¸° -->
				<div class="grid grid-row-3 gap-2 h-full">
					<div class="bg-gray-300 rounded-xl p-2 text-sm">ì£¼ë³€ í«ì‚´ ì•Œì•„ë³´ê¸°</div>
					<div class="bg-gray-200 rounded-xl p-2 text-sm">123</div>
					<div class="bg-gray-200 rounded-xl p-2 text-sm">123</div>
				</div>
			</aside>


		</main>

	</div>




	<script>
		renderMiniCalendar('calendar-container');
		
		const urlParams = new URLSearchParams(window.location.search);
		const petId = urlParams.get("petId");

		if (petId) {
			console.log("ì„ íƒëœ í« ID:", petId);
		}
	</script>

	<script>
		const ctx = document.getElementById('myChart').getContext('2d');
		const myChart = new Chart(ctx, {
			type: 'bar',
			data: {
				labels: ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† ', 'ì¼'],
				datasets: [
					{
						label: 'ì‹ì‚¬ëŸ‰',
						data: [4, 5, 3, 4.5, 5, 6, 4.8],
						backgroundColor: 'rgba(244, 211, 94, 0.8)',
						borderRadius: {
							topLeft: 100,
							bottomRight: 40
						},
						barPercentage: 0.6,
						borderSkipped: false,
						categoryPercentage: 0.7
					},
					{
						label: 'ë¬¼ ì„­ì·¨ëŸ‰',
						data: [3, 2.5, 4, 3.5, 4, 5, 4.2],
						backgroundColor: 'rgba(127, 176, 105, 0.8)',
						borderRadius: {
							topLeft: 100,
							bottomRight: 40
						},
						barPercentage: 0.6,
						borderSkipped: false,
						categoryPercentage: 0.7
					},
					{
						label: 'ìµœì¢… ì ìˆ˜',
						data: [7, 7.5, 7, 8, 9, 10, 9],
						backgroundColor: 'rgba(79, 109, 122, 0.8)',
						borderRadius: {
							topLeft: 100,
							bottomRight: 40
						},
						borderSkipped: false,
						barPercentage: 0.6,
						categoryPercentage: 0.7
					}
				]
			},
			options: {
				responsive: true,
				maintainAspectRatio: false,
				plugins: {
					legend: {
						position: 'top'
					},
					title: {
						display: false
					}
				},
				scales: {
					y: {
						beginAtZero: true,
						max: 10
					}
				}
			}
		});

	</script>
	<script th:src="@{/resource/js/calendar.js}"></script>



</body>

</html>